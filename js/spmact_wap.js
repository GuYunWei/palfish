/*2015-10-15 23:09:56*/
!function(){function t(t,e,r){t[j]((v?"on":"")+e,function(t){t=t||m.event;var e=t.target||t.srcElement;r(t,e)},!1)}function e(){return/&?\bspm=[^&#]*/.test(location.href)?location.href.match(/&?\bspm=[^&#]*/gi)[0].split("=")[1]:""}function r(t,e){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var r,a,i,n,o,c,p,m="&";if(-1!=t.indexOf("#")&&(i=t.split("#"),t=i.shift(),a=i.join("#")),n=t.split("?"),o=n.length-1,i=n[0].split("//"),i=i[i.length-1].split("/"),c=i.length>1?i.pop():"",o>0&&(r=n.pop(),t=n.join("?")),r&&o>1&&-1==r.indexOf("&")&&-1!=r.indexOf("%")&&(m="%26"),t=t+"?spm="+e+(r?m+r:"")+(a?"#"+a:""),p=c.indexOf(".")>-1?c.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(p))return 0;!r&&1>=o&&(a||{htm:1,html:1,php:1}.hasOwnProperty(p)||(t+="&file="+c))}return t}function a(t){function e(t){return t=t.replace(/refpos[=(%3D)]\w*/gi,c).replace(n,"%3D"+a+"%26"+i.replace("=","%3D")).replace(o,a),i.length>0&&(t+="&"+i),t}var r=window.location.href,a=r.match(/mm_\d{0,24}_\d{0,24}_\d{0,24}/i),i=r.match(/[&\?](pvid=[^&]*)/i),n=new RegExp("%3Dmm_\\d+_\\d+_\\d+","ig"),o=new RegExp("mm_\\d+_\\d+_\\d+","ig");i=i&&i[1]?i[1]:"";var c=r.match(/(refpos=(\d{0,24}_\d{0,24}_\d{0,24})?(,[a-z]+)?)(,[a-z]+)?/i);return c=c&&c[0]?c[0]:"",a?(a=a[0],e(t)):t}function i(e){var r=m.KISSY;r?r.ready(e):m.jQuery?jQuery(f).ready(e):"complete"===f.readyState?e():t(m,"load",e)}function n(t,e){return t&&t.getAttribute?t.getAttribute(e)||"":""}function o(t){if(t){var e,r=b.length;for(e=0;r>e;e++)if(t.indexOf(b[e])>-1)return!0;return!1}}function c(t,e){if(t&&/&?\bspm=[^&#]*/.test(t)&&(t=t.replace(/&?\bspm=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,"")),!e)return t;var r,a,i,n,o,c,p,m="&";if(-1!=t.indexOf("#")&&(i=t.split("#"),t=i.shift(),a=i.join("#")),n=t.split("?"),o=n.length-1,i=n[0].split("//"),i=i[i.length-1].split("/"),c=i.length>1?i.pop():"",o>0&&(r=n.pop(),t=n.join("?")),r&&o>1&&-1==r.indexOf("&")&&-1!=r.indexOf("%")&&(m="%26"),t=t+"?spm="+e+(r?m+r:"")+(a?"#"+a:""),p=c.indexOf(".")>-1?c.split(".").pop().toLowerCase():""){if({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1}.hasOwnProperty(p))return 0;!r&&1>=o&&(a||{htm:1,html:1,php:1}.hasOwnProperty(p)||(t+="&__file="+c))}return t}function p(t){if(o(t.href)){var r=n(t,g);if(!r){if(!d)return;var a=d(t),i=[a.a,a.b,a.c,a.d,a.e].join(".");h&&(i=[a.a||"0",a.b||"0",a.c||"0",a.d||"0"].join("."),i=(e()||"0.0.0.0.0")+"_"+i);var p=c(t.href,i);t.href=p,t.setAttribute(g,i)}}t=void 0}var m=window,f=document,s=location,l=(s.href,m._alimm_spmact_on_);if("undefined"==typeof l&&(l=1),1==l&&(l=1),0==l&&(l=0),l){try{var d=m.g_SPM.getParam}catch(u){d=function(){return{a:0,b:0,c:0,d:0,e:0}}}var h=!0;try{h=self.location!=top.location}catch(u){}var g="data-spm-act-id",b=["mclick.simba.taobao.com","click.simba.taobao.com","click.tanx.com","click.mz.simba.taobao.com","click.tz.simba.taobao.com","redirect.simba.taobao.com","rdstat.tanx.com","stat.simba.taobao.com","s.click.taobao.com"],v=!!f.attachEvent,_="attachEvent",w="addEventListener",j=v?_:w;t(f,"mousedown",function(t,e){for(var r,a=0;e&&(r=e.tagName)&&5>a;){if("A"==r||"AREA"==r){p(e);break}if("BODY"==r||"HTML"==r)break;e=e.parentNode,a++}}),i(function(){for(var t,i,o=document.getElementsByTagName("iframe"),c=0;c<o.length;c++){t=n(o[c],"mmsrc"),i=n(o[c],"mmworked");var p=d(o[c]),m=[p.a||"0",p.b||"0",p.c||"0",p.d||"0",p.e||"0"].join(".");t&&!i?(h&&(m=[p.a||"0",p.b||"0",p.c||"0",p.d||"0"].join("."),m=e()+"_"+m),o[c].src=r(a(t),m),o[c].setAttribute("mmworked","mmworked")):o[c].setAttribute(g,m)}})}}();